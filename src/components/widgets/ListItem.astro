---
// import { Image } from 'astro:assets';  <-- ARTIK BUNA İHTİYACIMIZ YOK, SİLDİK.
import { getPermalink } from '~/utils/permalinks';
import type { CollectionEntry } from 'astro:content';

export interface Props {
  post: CollectionEntry<'post'>;
}

const { post } = Astro.props;
const image = post.data.image;
---

<article class="max-w-md mx-auto md:max-w-none grid gap-6 md:grid-cols-1 group">
  <a class="relative block" href={getPermalink(post.id, 'post')}>
    {image && (
      <div class="relative h-0 pb-[56.25%] overflow-hidden bg-gray-400 dark:bg-slate-700 rounded-md shadow-lg">
        <img
          src={image}
          class="absolute inset-0 object-cover w-full h-full mb-6 rounded-md shadow-lg bg-gray-400 dark:bg-slate-700"
          alt={post.data.title}
          loading="lazy"
          decoding="async"
        />
      </div>
    )}
  </a>
  <div class="mt-2">
    <header>
      <h3 class="text-xl md:text-2xl font-bold leading-tight mb-2 font-heading">
        <a class="hover:text-primary dark:hover:text-blue-200 transition ease-in duration-200" href={getPermalink(post.id, 'post')}>
          {post.data.title}
        </a>
      </h3>
    </header>
    {post.data.excerpt && <p class="flex-grow text-muted dark:text-slate-400 text-lg">{post.data.excerpt}</p>}
  </div>
</article>